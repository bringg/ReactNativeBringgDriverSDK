{"version":3,"sources":["index.tsx"],"names":["bringgDriverSDK","Platform","OS","Error","initBringgDriverSDK","activeCustomerManager"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;;AACA;;AACA;;AAKA;;AACA;;AAwCA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AA5CA,IAAIA,eAAJ;;AAEA,IAAIC,sBAASC,EAAT,KAAgB,KAApB,EAA2B;AACzBF,EAAAA,eAAe,GAAG,4DAA2B,8BAA3B,CAAlB;AACD,CAFD,MAEO,IAAIC,sBAASC,EAAT,KAAgB,SAApB,EAA+B;AACpCF,EAAAA,eAAe,GAAG,oEAA+B,sCAA/B,CAAlB;AACD,CAFM,MAEA;AACL,QAAM,IAAIG,KAAJ,CAAU,+CAAV,CAAN;AACD;;AAED,MAAM;AAAEC,EAAAA,mBAAF;AAAuBC,EAAAA;AAAvB,IAAiDL,eAAvD","sourcesContent":["import { getIOSNativeModule } from './ios';\nimport { getAndroidNativeModule } from './android';\nimport { Platform } from 'react-native';\nimport { Task } from './models/task';\nimport { BehaviorSubject } from 'rxjs';\nimport { TransportType } from './models/transport_type';\nimport { CustomerVehicle } from './models/customer_vehicle';\nimport { iosAPIToPublicAPITransform } from './ios-api-to-public-api-transform';\nimport { androidAPIToPublicAPITransform } from './android-api-to-public-api-transform';\nimport { SDKInitializeFlag } from './consts/SDKInitializeFlag';\n\nlet bringgDriverSDK: BringgDriverSDKType;\n\nif (Platform.OS === 'ios') {\n  bringgDriverSDK = iosAPIToPublicAPITransform(getIOSNativeModule());\n} else if (Platform.OS === 'android') {\n  bringgDriverSDK = androidAPIToPublicAPITransform(getAndroidNativeModule());\n} else {\n  throw new Error('BringgDriverSDK supports iOS and Android only');\n}\n\nconst { initBringgDriverSDK, activeCustomerManager } = bringgDriverSDK;\n\nexport type ActiveCustomerManagerType = {\n  // login related\n  isLoggedIn: BehaviorSubject<boolean>;\n  loginWithToken(token: string, secret: string, region: string): Promise<void>;\n  logout(): Promise<void>;\n\n  // task related\n  startTask(taskId: number): Promise<void>;\n  arriveAtWaypoint(): Promise<void>;\n  arriveAtWaypointWithCustomerVehicle(\n    customerVehicle: CustomerVehicle\n  ): Promise<void>;\n  leaveWaypoint(): Promise<void>;\n  updateWaypointETA(eta: Date): Promise<void>;\n\n  activeTask: BehaviorSubject<Task | null>;\n\n  setUserTransportType(transportType: TransportType): Promise<void>;\n};\n\nexport type BringgDriverSDKType = {\n  initBringgDriverSDK: (flags?: SDKInitializeFlag[]) => Promise<void>;\n  activeCustomerManager: ActiveCustomerManagerType;\n};\n\nexport { Task, TaskStatus } from './models/task';\nexport { Waypoint } from './models/waypoint';\nexport { Contact } from './models/contact';\nexport { Customer } from './models/customer';\nexport { TaskInventory } from './models/task_inventory';\nexport { TaskNote } from './models/task_note';\nexport { TransportType } from './models/transport_type';\nexport { SDKInitializeFlag } from './consts/SDKInitializeFlag';\nexport { initBringgDriverSDK, activeCustomerManager };\n"]}